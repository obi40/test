<md-content md-whiteframe="3">
    <md-tabs md-dynamic-height md-border-bottom>
        <md-tab label="{{'profile' | translate}}">
            <md-content layout-padding>
                <form name="profileForm" id="profileForm" novalidate http-disable-click ng-submit="updateProfile(profileForm.$valid)"
                    flex>
                    <div layout="row" flex layout-wrap>
                        <name form="profileForm" name-option="newUserInfo" meta-data="userMetaData" flex="100"></name>
                        <trans-field dynamic-flex form="profileForm" model="newUserInfo" languages="userTransFields.address"></trans-field>
                        <md-input-container dynamic-flex>
                            <label>
                                {{'mobileNumber' | translate}}</label>
                            <input type="text" name="mobileNo" ng-model="newUserInfo.mobileNo" ng-required="userMetaData.mobileNo.notNull"
                                ng-minlength="userMetaData.mobileNo.sized? userMetaData.mobileNo.min:''" ng-maxlength="userMetaData.mobileNo.sized? userMetaData.mobileNo.max:''" />
                            <input-messages input-errors="profileForm.mobileNo.$error" />
                        </md-input-container>
                        <md-input-container dynamic-flex>
                            <label>
                                {{'nationalNumber' | translate}}</label>
                            <input type="number" name="nationalId" ng-model="newUserInfo.nationalId" ng-required="userMetaData.nationalId.notNull"
                                ng-min="userMetaData.nationalId.sized? userMetaData.nationalId.min:''" ng-max="userMetaData.nationalId.sized? userMetaData.nationalId.max:''"
                                ng-pattern="patternNum" />
                            <input-messages input-errors="profileForm.nationalId.$error" />
                        </md-input-container>

                        <lov dynamic-flex form="profileForm" ng-repeat="lkp in userLKPs" options="lkp" select="lkp.selectedValue"></lov>
                    </div>
                    <div layout="row" layout-align="center center" flex>
                        <md-button class="md-primary md-raised" type="submit" ng-disabled="profileForm.$invalid">
                            {{'save' | translate}}
                        </md-button>
                    </div>
                </form>
            </md-content>
        </md-tab>
        <md-tab label="{{'emailAndPassword' | translate}}">
            <md-content layout-padding>
                <form name="loginForm" id="loginForm" novalidate http-disable-click ng-submit="updatePassword(loginForm.$valid)"
                    flex>
                    <div layout="row" flex layout-wrap>
                        <md-input-container dynamic-flex="100|100|50|50|50">
                            <label>
                                {{'username' | translate}}</label>
                            <input type="text" name="username" ng-model="username" ng-disabled="true" ng-required="true" />
                        </md-input-container>
                        <md-input-container dynamic-flex="100|100|50|50|50">
                            <label>
                                {{'email' | translate}}</label>
                            <input type="email" name="email" ng-model="email" ng-required="userMetaData.email.notNull"
                                ng-minlength="userMetaData.email.sized? userMetaData.email.min:''" ng-maxlength="userMetaData.email.sized? userMetaData.email.max:''" />
                            <input-messages input-errors="loginForm.email.$error" />
                        </md-input-container>
                    </div>
                    <div layout="row" flex layout-wrap>
                        <md-input-container dynamic-flex="100|100|33|33|33">
                            <label>
                                {{'passwordCurrent' | translate}}</label>
                            <input type="password" name="currentPassword" ng-model="currentPassword" ng-required="true"
                                ng-minlength="userMetaData.password.sized? userMetaData.password.min:''" ng-maxlength="userMetaData.password.sized? userMetaData.password.max:''" />
                            <input-messages input-errors="loginForm.currentPassword.$error" />
                        </md-input-container>
                        <md-input-container dynamic-flex="100|50|33|33|33">
                            <label>
                                {{'passwordNew' | translate}}</label>
                            <input type="password" id="newPassword" ng-model="newPassword" name="newPassword"
                                ng-required="false" password-verify="{{confirmPassword}}" />
                            <input-messages input-errors="loginForm.newPassword.$error" />
                        </md-input-container>
                        <md-input-container dynamic-flex="100|50|33|33|33">
                            <label>
                                {{'passwordConfirm' | translate}}</label>
                            <input type="password" id="confirmPassword" ng-model="confirmPassword" name="confirmPassword"
                                ng-required="false" password-verify="{{newPassword}}" />
                            <input-messages input-errors="loginForm.confirmPassword.$error" />
                        </md-input-container>
                    </div>
                    <div layout="row" layout-align="center center" flex>
                        <md-button class="md-primary md-raised" type="submit" authority-checker="CHANGE_PASS_EMAIL_USER"
                            ng-disabled="loginForm.$invalid">
                            {{'save' | translate}}
                        </md-button>
                    </div>
                </form>
            </md-content>
        </md-tab>
        <md-tab label="{{'preferences' | translate}}">
            <md-content class="md-padding">
                <form name="preferencesForm" novalidate layout="row" flex layout-wrap>
                    <lov dynamic-flex form="preferencesForm" ng-if="branchLkp != null" options="branchLkp" select="branchLkp.selectedValue"
                        on-change="onBranchChange"></lov>
                </form>
            </md-content>
        </md-tab>
    </md-tabs>
</md-content>